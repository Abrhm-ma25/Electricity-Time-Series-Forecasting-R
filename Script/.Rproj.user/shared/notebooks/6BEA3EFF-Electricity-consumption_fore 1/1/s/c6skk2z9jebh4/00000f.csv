"0","last_timestamp <- max(raw_train$Timestamp)"
"0",""
"0","# Generate 96 next 15-min timestamps (for the forecast horizon = 1 day)"
"0",""
"0","timestamps_fc <- seq.POSIXt(from = last_timestamp + 15*60,"
"0","                            by = ""15 min"","
"0","                            length.out = 96)"
"0",""
"0","# Extract last 3 days of actual consumption for context in the plot"
"0",""
"0","n_context <- 96*3  # plot last 3 days for context"
"0","last_actuals <- tail(as.numeric(cons_ts), n_context)"
"0","last_actual_timestamps <- tail(raw_train$Timestamp, n_context)"
"0",""
"0",""
"0","hw_fc <- forecast(hw_add, h = 96)"
"0","sarima_fc <- forecast(sarima, h = 96)"
"0","nnetar_fc_day <- forecast(nnetar_fit, xreg = xreg_future, h = 96)$mean"
"0",""
"0","# Combine Actuals + Forecasts into one data frame"
"0",""
"0","plot_df <- tibble("
"0","  Timestamp = c(last_actual_timestamps, timestamps_fc, timestamps_fc,"
"0","                timestamps_fc, timestamps_fc),"
"0","  "
"0","  Model = factor(rep(c(""Actual"","
"0","                       ""HW Additive"","
"0","                       ""SARIMA Manual"","
"0","                       ""XGBoost + Temp"","
"0","                       ""NNETAR + Temp""),"
"0","                     times = c(n_context, 96, 96, 96, 96)),"
"0","                 levels = c(""Actual"", ""HW Additive"", ""SARIMA Manual"","
"0","                             ""XGBoost + Temp"", ""NNETAR + Temp"")),"
"0","  Power = c(last_actuals,"
"0","            as.numeric(hw_fc$mean), "
"0","            # or hw_add_fc$mean based on your result object"
"0","            as.numeric(sarima_fc$mean), "
"0","            # as above: use your actual SARIMA forecast"
"0","            as.numeric(y_preds),"
"0","            as.numeric(nnetar_fc_day))"
"0",")"
"0",""
"0","ggplot(plot_df, aes(x = Timestamp, y = Power, color = Model, linetype = Model)) +"
"0","  geom_line(size = 1, na.rm = TRUE) +"
"0","  scale_color_manual("
"0","    values = c(""black"", ""green"", ""blue"", ""orange"", ""purple"")"
"0","  ) +"
"0","  scale_linetype_manual("
"0","    values = c(""solid"", ""dashed"", ""twodash"", ""dotdash"", ""solid"")"
"0","  ) +"
"0","  labs("
"0","    title = ""Consumption and Forecasts: HW Additive, SARIMA Manual,"
"0","     XGBoost + Temp, NNETAR + Temp"","
"0","    x = ""Timestamp"","
"0","    y = ""Power (kW)"""
"0","  ) +"
"0","  theme_minimal() +"
"0","  theme(legend.position = ""top"")"
